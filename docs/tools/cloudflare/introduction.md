---
title: workers的基本介绍
createTime: 2026/01/08 21:57:22
permalink: /tools/cloudflare/introduction/
icon: devicon:cloudflareworkers
---

简单来说，**Cloudflare Workers** 是一个**无服务器（Serverless）执行环境**。它允许你在 Cloudflare 的全球边缘网络（遍布全球 300 多个城市的数据中心）上运行 JavaScript、Rust、C 和 C++ 代码。

如果把传统的服务器比作“远在大城市的中央仓库”，那么 Workers 就像是“你家门口的便利店”，它可以直接在离用户最近的地方处理请求。

## Workers 的核心作用

### 1. 边缘计算（在离用户最近的地方处理逻辑）

传统的服务器可能在北美，中国用户访问需要跨洋，延迟很高。Workers 代码运行在离用户只有几毫秒距离的边缘节点。

- **用途：** 根据用户的地理位置显示不同语言、重定向流量、或者根据设备类型优化图片。

### 2. 增强和修改 HTTP 请求

Workers 就像是一个放在用户浏览器和原始服务器之间的“智能滤网”。

- **用途：** 安全性： 过滤恶意请求，添加自定义的防火墙规则。
- **头部修改：** 自动为网页添加安全头（如 HSTS, CSP）或删除敏感信息。
- **身份验证：** 在请求到达你的主服务器之前，先检查用户的 Token 是否有效。

### 3. 构建完整的 API 和微服务

由于 Workers 配合了 D1（数据库）、KV（键值存储）和 Durable Objects（状态存储），你完全可以用它开发不需要传统服务器的应用。

- **用途：** 写一个简单的短链接生成器、评论系统、或者一个实时聊天后端。

### 4. 优化网站性能

- **用途： **动态地向页面中注入脚本或内容，而不需要修改源代码。
- **自定义缓存策略：** 比标准的 CDN 缓存更灵活，可以根据复杂的逻辑决定哪些内容该缓存，哪些不该。

## 主要有什么作用

- 低延迟的请求处理：在边缘节点就能接住 HTTP 请求、返回响应，减少跨地域往返延迟。
- 反向代理与网关：按你的规则转发/改写请求与响应（URL、Header、Cookie、Body），做灰度、A/B、动态路由。
- 安全与风控：在到达源站前就做鉴权、签名校验、速率限制、封禁、Bot 识别配合等。
- 缓存与加速：精细控制边缘缓存策略（Cache API）、做自定义缓存 key、缓存穿透保护、按条件缓存。
- 身份认证与会话：实现 JWT/OAuth 回调处理、SSO 入口、会话校验，把鉴权放在边缘减少源站压力。
- 轻量后端 API：提供简单的 API 服务，或把多个后端聚合成一个接口（BFF）。
- 静态站点增强：配合 Cloudflare Pages/静态资源，在边缘做动态渲染片段、重写、国际化、个性化。
- 与 Cloudflare 存储/队列集成：如 KV（键值）、D1（数据库）、R2（对象存储）、Durable Objects（有状态对象）、Queues 等，做持久化与异步任务。

## 付费计划

| **服务项目**        | **免费计划 (Free)**          | **付费计划 (Paid - 每月 $5 起)**    | **额外使用计费 (超出配额后)**       |
| ------------------- | ---------------------------- | ----------------------------------- | ----------------------------------- |
| **基础请求数**      | 10 万次 / 天                 | **1,000 万次 / 月**                 | $0.30 / 百万次请求                  |
| **CPU 时间**        | 10 ms / 请求                 | **3,000 万毫秒 / 月**               | $0.02 / 百万毫秒                    |
| **Workers 日志**    | 不可用 / 极受限              | **2,000 万个事件 (7天保留)**        | 包含在套餐内                        |
| **D1 数据库**       | 5GB 存储 / 500万读 / 10万写  | **5GB 存储 / 250亿读 / 5000万写**   | 读: $0.001/百万次；写: $1.00/百万次 |
| **KV 存储**         | 1GB 存储 / 10万读 / 1000次写 | **1GB 存储 / 1000万读 / 100万次写** | 读: $0.50/百万次；写: $5.00/百万次  |
| **Durable Objects** | 不可用                       | **100万请求 / 40GB-s 持续时间**     | 请求: $0.15/百万次；存储: $0.20/GB  |
| **Queues (队列)**   | 不可用                       | **100 万次标准操作**                | $0.40 / 百万次操作                  |
| **AI Gateway 日志** | 受限                         | **200,000 个日志存储**              | -                                   |
| **Logpush**         | 不可用                       | **1,000 万个 Trace Events**         | $0.05 / 百万个日志                  |